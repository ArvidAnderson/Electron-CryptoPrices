<!DOCTYPE html>
<html lang="en">
<head>
    <title>Add to watchlist</title>
    <link rel="stylesheet" href="assets/css/materialize.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container">
        <form>
            <div>
                <label>Select a crypto to watch</label>
            </div>
            <div class="input-field col s12">
                <select class="browser-default" id="crypto" name="crypto">
                    <option disabled value="">Choose crypto</option>
                    <option value="btc">Bitcoin</option>
                    <option value="eth">Ethereum</option>
                    <option value="xrp">Ripple</option>
                    <option value="bch">Bitcoin Cash</option>
                    <option value="ada">Cardano</option>
                    <option value="ltc">Lightcoin</option>
                    <option value="xlm">Stellar Lumens</option>
                </select>
            </div>
            <button id="yes" class="custom-add-button btn waves-effect waves-light" type="submit">Add</button>
        </form>
    </div>
    <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;
        const form = document.querySelector('form');
        form.addEventListener('submit', submitForm);
        form.addEventListener('canncel', submitForm);

        function submitForm(e){
            e.preventDefault();
            const crypto = document.querySelector('#crypto').value;
            ipcRenderer.send('check:exists', crypto);
            ipcRenderer.send('crypto:add', crypto);
        }
        
        // Add on enter
        document.querySelector("body").addEventListener("keyup", event => {
            if(event.key !== "Enter") return;
            document.querySelector("#yes").click();
            event.preventDefault();
        });
    </script>
    <script>
        // Custom navbar
        const customTitlebar = require('custom-electron-titlebar');

        new customTitlebar.Titlebar({
            backgroundColor: customTitlebar.Color.fromHex('#0a84ff'),
            menu: false,
            minimizable: false,
            maximizable: false
        });
        titlebar.dispose();

    </script>
</body>
</html>